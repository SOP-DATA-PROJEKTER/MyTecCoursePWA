@using MyTecCoursePWA.Interfaces
@using MyTecCoursePWA.Models
@typeparam TItem where TItem : ISelectable

<select class="rounded-md border bg-white p-2 shadow-md focus:outline-none focus:ring focus:border-blue-300"
        @onchange="SelectedValueChangedHandler">
    @foreach (var item in Items)
    {
        <option value="@item.Name">@item.Name</option>
    }
</select>

@code {
    [Parameter, EditorRequired] public List<TItem> Items { get; set; } = new();
    [Parameter, EditorRequired] public string SelectedValue { get; set; } = "";
    [Parameter] public EventCallback<string> SelectedValueChanged { get; set; }

    private async Task SelectedValueChangedHandler(ChangeEventArgs e)
    {
        SelectedValue = e.Value?.ToString() ?? "";
        await SelectedValueChanged.InvokeAsync(SelectedValue);
    }

}
