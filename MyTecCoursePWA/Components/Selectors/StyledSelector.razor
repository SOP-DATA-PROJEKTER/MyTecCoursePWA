@using MyTecCoursePWA.Interfaces
@using MyTecCoursePWA.Models
@typeparam TItem where TItem : ISelectable

<select class="border-2 rounded-2xl border-[var(--border-color)] bg-white p-2 shadow-md focus:outline-none"
        @onchange="SelectedValueChangedHandler">
    <option value="" class="font-bold">Select...</option>
    @foreach (var item in Items)
    {
        <option value="@item.Name" selected="@(item.Name == SelectedValue)" class="font-bold">@item.Name</option>
    }
</select>

@code {
    [Parameter, EditorRequired] public List<TItem> Items { get; set; } = new();
    [Parameter, EditorRequired] public string SelectedValue { get; set; } = "";
    [Parameter] public EventCallback<string> SelectedValueChanged { get; set; }

    private async Task SelectedValueChangedHandler(ChangeEventArgs e)
    {
        SelectedValue = e.Value?.ToString() ?? "";  // Update the selected value
        await SelectedValueChanged.InvokeAsync(SelectedValue);  // Call the callback
    }
}

